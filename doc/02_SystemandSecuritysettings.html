<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ul.lst-kix_ok0p9wjl8rrw-4{list-style-type:none}ul.lst-kix_ok0p9wjl8rrw-5{list-style-type:none}ol.lst-kix_9icfkk25tp8o-5.start{counter-reset:lst-ctn-kix_9icfkk25tp8o-5 0}ul.lst-kix_ok0p9wjl8rrw-2{list-style-type:none}.lst-kix_ok0p9wjl8rrw-1>li:before{content:"-  "}ul.lst-kix_ok0p9wjl8rrw-3{list-style-type:none}ul.lst-kix_ok0p9wjl8rrw-0{list-style-type:none}ul.lst-kix_ok0p9wjl8rrw-1{list-style-type:none}.lst-kix_ok0p9wjl8rrw-0>li:before{content:"-  "}.lst-kix_ok0p9wjl8rrw-5>li:before{content:"-  "}.lst-kix_9icfkk25tp8o-1>li{counter-increment:lst-ctn-kix_9icfkk25tp8o-1}.lst-kix_ok0p9wjl8rrw-6>li:before{content:"-  "}ol.lst-kix_9icfkk25tp8o-8.start{counter-reset:lst-ctn-kix_9icfkk25tp8o-8 0}.lst-kix_9icfkk25tp8o-7>li{counter-increment:lst-ctn-kix_9icfkk25tp8o-7}ol.lst-kix_9icfkk25tp8o-1.start{counter-reset:lst-ctn-kix_9icfkk25tp8o-1 0}.lst-kix_ok0p9wjl8rrw-4>li:before{content:"-  "}.lst-kix_5d7h3mqynicp-5>li:before{content:"-  "}.lst-kix_ok0p9wjl8rrw-3>li:before{content:"-  "}.lst-kix_5d7h3mqynicp-4>li:before{content:"-  "}.lst-kix_ok0p9wjl8rrw-2>li:before{content:"-  "}.lst-kix_5d7h3mqynicp-3>li:before{content:"-  "}.lst-kix_9icfkk25tp8o-6>li{counter-increment:lst-ctn-kix_9icfkk25tp8o-6}ol.lst-kix_9icfkk25tp8o-6.start{counter-reset:lst-ctn-kix_9icfkk25tp8o-6 0}.lst-kix_5d7h3mqynicp-2>li:before{content:"-  "}.lst-kix_9icfkk25tp8o-3>li{counter-increment:lst-ctn-kix_9icfkk25tp8o-3}.lst-kix_5d7h3mqynicp-1>li:before{content:"-  "}.lst-kix_5d7h3mqynicp-0>li:before{content:"-  "}.lst-kix_9icfkk25tp8o-6>li:before{content:"" counter(lst-ctn-kix_9icfkk25tp8o-6,decimal) ". "}.lst-kix_9icfkk25tp8o-5>li:before{content:"" counter(lst-ctn-kix_9icfkk25tp8o-5,lower-roman) ". "}.lst-kix_9icfkk25tp8o-4>li:before{content:"" counter(lst-ctn-kix_9icfkk25tp8o-4,lower-latin) ". "}.lst-kix_9icfkk25tp8o-2>li:before{content:"" counter(lst-ctn-kix_9icfkk25tp8o-2,lower-roman) ". "}ul.lst-kix_ok0p9wjl8rrw-8{list-style-type:none}ul.lst-kix_ok0p9wjl8rrw-6{list-style-type:none}ol.lst-kix_9icfkk25tp8o-2.start{counter-reset:lst-ctn-kix_9icfkk25tp8o-2 0}.lst-kix_9icfkk25tp8o-3>li:before{content:"" counter(lst-ctn-kix_9icfkk25tp8o-3,decimal) ". "}ul.lst-kix_ok0p9wjl8rrw-7{list-style-type:none}.lst-kix_9icfkk25tp8o-0>li:before{content:"" counter(lst-ctn-kix_9icfkk25tp8o-0,decimal) ". "}.lst-kix_9icfkk25tp8o-1>li:before{content:"" counter(lst-ctn-kix_9icfkk25tp8o-1,lower-latin) ". "}ol.lst-kix_9icfkk25tp8o-0.start{counter-reset:lst-ctn-kix_9icfkk25tp8o-0 0}.lst-kix_9icfkk25tp8o-7>li:before{content:"" counter(lst-ctn-kix_9icfkk25tp8o-7,lower-latin) ". "}ol.lst-kix_9icfkk25tp8o-7{list-style-type:none}ol.lst-kix_9icfkk25tp8o-6{list-style-type:none}.lst-kix_9icfkk25tp8o-8>li:before{content:"" counter(lst-ctn-kix_9icfkk25tp8o-8,lower-roman) ". "}.lst-kix_9icfkk25tp8o-4>li{counter-increment:lst-ctn-kix_9icfkk25tp8o-4}ol.lst-kix_9icfkk25tp8o-8{list-style-type:none}ol.lst-kix_9icfkk25tp8o-3.start{counter-reset:lst-ctn-kix_9icfkk25tp8o-3 0}ol.lst-kix_9icfkk25tp8o-1{list-style-type:none}ol.lst-kix_9icfkk25tp8o-0{list-style-type:none}.lst-kix_9icfkk25tp8o-0>li{counter-increment:lst-ctn-kix_9icfkk25tp8o-0}ol.lst-kix_9icfkk25tp8o-3{list-style-type:none}ol.lst-kix_9icfkk25tp8o-2{list-style-type:none}ol.lst-kix_9icfkk25tp8o-5{list-style-type:none}ol.lst-kix_9icfkk25tp8o-4{list-style-type:none}ul.lst-kix_5d7h3mqynicp-8{list-style-type:none}ul.lst-kix_5d7h3mqynicp-7{list-style-type:none}.lst-kix_5d7h3mqynicp-6>li:before{content:"-  "}ol.lst-kix_9icfkk25tp8o-4.start{counter-reset:lst-ctn-kix_9icfkk25tp8o-4 0}.lst-kix_5d7h3mqynicp-7>li:before{content:"-  "}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}.lst-kix_5d7h3mqynicp-8>li:before{content:"-  "}.lst-kix_ok0p9wjl8rrw-7>li:before{content:"-  "}.lst-kix_ok0p9wjl8rrw-8>li:before{content:"-  "}ul.lst-kix_5d7h3mqynicp-2{list-style-type:none}ul.lst-kix_5d7h3mqynicp-1{list-style-type:none}ul.lst-kix_5d7h3mqynicp-0{list-style-type:none}.lst-kix_9icfkk25tp8o-8>li{counter-increment:lst-ctn-kix_9icfkk25tp8o-8}.lst-kix_9icfkk25tp8o-2>li{counter-increment:lst-ctn-kix_9icfkk25tp8o-2}ol.lst-kix_9icfkk25tp8o-7.start{counter-reset:lst-ctn-kix_9icfkk25tp8o-7 0}ul.lst-kix_5d7h3mqynicp-6{list-style-type:none}ul.lst-kix_5d7h3mqynicp-5{list-style-type:none}ul.lst-kix_5d7h3mqynicp-4{list-style-type:none}ul.lst-kix_5d7h3mqynicp-3{list-style-type:none}.lst-kix_9icfkk25tp8o-5>li{counter-increment:lst-ctn-kix_9icfkk25tp8o-5}ol{margin:0;padding:0}table td,table th{padding:0}.c10{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:451.4pt;border-top-color:#000000;border-bottom-style:solid}.c0{margin-left:36pt;padding-top:0pt;padding-left:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c4{margin-left:36pt;padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left;height:11pt}.c20{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:20pt;font-family:"Arial";font-style:normal}.c1{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c6{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left;height:11pt}.c17{padding-top:20pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c15{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10pt;font-family:"Courier New";font-style:normal}.c22{padding-top:18pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c21{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Arial";font-style:normal}.c2{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:9pt;font-family:"Courier New";font-style:normal}.c7{margin-left:36pt;padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c13{color:#000000;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c9{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c16{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c11{margin-left:36pt;border-spacing:0;border-collapse:collapse;margin-right:auto}.c18{background-color:#ffffff;max-width:451.4pt;padding:72pt 72pt 72pt 72pt}.c5{font-size:9pt;font-family:"Courier New";font-weight:700}.c14{margin-left:72pt;padding-left:0pt}.c12{padding:0;margin:0}.c3{height:0pt}.c19{height:11pt}.c8{font-weight:700}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c18 doc-content"><h1 class="c17" id="h.l6fg0gc0usmc"><span class="c20">System and Security settings</span></h1><p class="c9"><span class="c1">hbdna-edit will require access to HB DNAfx-GIT device through USB in read/write mode.<br>As USB devices are from sensible to critical (keyboard, webcam, mass storage, etc&hellip;) this access requires to be secure and safe. Currently this doc only covers Linux systems. Mac and Windows are planned to be covered later.</span></p><h2 class="c22" id="h.5ctf4ot97sa8"><span class="c21">On the Linux side : </span></h2><p class="c9"><span class="c1">This will be easily done by creating a dedicated user and group for hbdna-edit usage (hbdna).</span></p><p class="c9"><span class="c1">This user group will be granted read/write access to usb device, but only to access hb DNAfx-git device.</span></p><p class="c6"><span class="c1"></span></p><p class="c9"><span class="c1">This will be enforced by restricting access to the device, which ids have been identified : </span></p><ul class="c12 lst-kix_5d7h3mqynicp-0 start"><li class="c0 li-bullet-0"><span class="c1">idVendor = 0483</span></li><li class="c0 li-bullet-0"><span class="c1">idProduct = 5703</span></li></ul><p class="c4"><span class="c1"></span></p><p class="c9"><span class="c1">Then, to be granted such access a single user just need to be added to the hbdna group.</span></p><p class="c9"><span class="c1">You will need to be root to do those settings (or use sudo if you prefer).</span></p><p class="c9"><span class="c1">Here is a step by step procedure for doing so : </span></p><p class="c6"><span class="c1"></span></p><ol class="c12 lst-kix_9icfkk25tp8o-0 start" start="1"><li class="c0 li-bullet-0"><span class="c8 c13">create the hbdna user :</span></li></ol><p class="c4"><span class="c1"></span></p><a id="t.b40f1e3882348264ec3d721a59bdc6161c671dc5"></a><a id="t.0"></a><table class="c11"><tr class="c3"><td class="c10" colspan="1" rowspan="1"><p class="c16"><span class="c5">[root@nicomede ~]#</span><span class="c15">&nbsp;useradd hbdna</span></p></td></tr></table><p class="c4"><span class="c1"></span></p><ol class="c12 lst-kix_9icfkk25tp8o-0" start="2"><li class="c0 li-bullet-0"><span class="c8">create an usb udev rule :</span><span class="c1">&nbsp;</span></li></ol><p class="c4"><span class="c1"></span></p><p class="c7"><span>Create a new file as </span><span class="c8">/lib/udev/rules.d/40-usb-hbdna.rule</span><span class="c1">. </span></p><p class="c7"><span class="c1">I created a dedicated rule file, to avoid possible overwriting by system or other software during upgrade/patching that could reset their existing rules.That would remove the hbdna setting.</span></p><p class="c7"><span class="c1">I choose the name &ldquo;40-usb-hbdna.rule&rdquo; because &nbsp;those rules are read sequentially and the prefix &ldquo;40-&rdquo; is used for declaring most USB devices access on my systems (Fedora), (ie. &ldquo;40-usb-media-players.rules&rdquo; declaring &nbsp;possible usb multimedia devices). </span></p><p class="c7"><span class="c1">However you are free to choose your own prefix and name.</span></p><p class="c4"><span class="c1"></span></p><p class="c7"><span class="c1">udev rules are applied depending on criterias of selection to attributes that identify the device on its USB bus. The attributes to define the rule we want are SUBSYSTEMS, ATTRS{idVendor} and ATTRS{idProduct}. Those have been identified previously. You should not need more criterias.</span></p><p class="c4"><span class="c1"></span></p><p class="c7"><span class="c1">Enter your preferred editor (ie. vi), enter the following and save your rule.</span></p><p class="c4"><span class="c1"></span></p><a id="t.e839c7b4de68636cd64ac5b98d609080ef07b8f0"></a><a id="t.1"></a><table class="c11"><tr class="c3"><td class="c10" colspan="1" rowspan="1"><p class="c16"><span class="c2"># &nbsp;Harley Benton DNAfx-git devices access rule<br># User groups granted with read/write access</span></p><p class="c16 c19"><span class="c2"></span></p><p class="c9"><span class="c2">ACTION==&quot;add&quot;, SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;0483&quot;, &nbsp;ATTRS{idProduct}==&quot;5703&quot;, MODE=&quot;0660&quot;, GROUP=&quot;hbdna&quot;</span></p></td></tr></table><p class="c4"><span class="c1"></span></p><p class="c7"><span class="c1">Then reload the rules : </span></p><p class="c4"><span class="c1"></span></p><a id="t.f9952f59bf5eff404747f5e5b5cdfacb6aa00548"></a><a id="t.2"></a><table class="c11"><tr class="c3"><td class="c10" colspan="1" rowspan="1"><p class="c16"><span class="c5">[root@nicomede ~]#</span><span class="c2">&nbsp;udevadm control &ndash;reload</span></p></td></tr></table><p class="c4"><span class="c1"></span></p><p class="c7"><span class="c1">replug the device and look at your regenerated dev file : </span></p><p class="c4"><span class="c1"></span></p><a id="t.08953122eb8dba6275bcf826032e2d696b4c556b"></a><a id="t.3"></a><table class="c11"><tr class="c3"><td class="c10" colspan="1" rowspan="1"><p class="c16"><span class="c5">[root@nicomede ~]#</span><span class="c2">&nbsp;ls -l /dev/hidraw5</span></p><p class="c16"><span class="c2">crw-rw----. 1 root hbdna 241, 5 &nbsp;3 oct. &nbsp;07:22 /dev/hidraw5</span></p></td></tr></table><p class="c4"><span class="c1"></span></p><p class="c7"><span class="c1">hbdna group members now can write to that device (and that device only), other /dev/hidraw devices are still for root access only in 600 mode.</span></p><p class="c4"><span class="c1"></span></p><ol class="c12 lst-kix_9icfkk25tp8o-0" start="3"><li class="c0 li-bullet-0"><span class="c8">In case of issue&hellip;</span></li></ol><p class="c4"><span class="c1"></span></p><p class="c7"><span class="c1">From all tests done,with this specific rule, I did not encounter any issue.<br>However, as playing with udev rules for some time, I know those may be tricky sometimes to say the least.<br></span></p><p class="c7"><span class="c1">So, if your udev rule does not apply (rights on device file are not changed), here are some hints : </span></p><p class="c4"><span class="c1"></span></p><ul class="c12 lst-kix_ok0p9wjl8rrw-0 start"><li class="c9 c14 li-bullet-0"><span class="c1">Be sure to have replugged the device to force device file recreation after you reloaded the rules.</span></li><li class="c9 c14 li-bullet-0"><span class="c1">Be sure no other udev rule overwrite your settings by being executed after your own. Eventually rename it with a prefix ensuring that cannot occur (ie. 99-ZZZ-usb-hbdna.rule - it should be executed as the last one.) </span></li><li class="c9 c14 li-bullet-0"><span class="c1">eventually reboot your platform. This should not be necessary as once reloaded udev rules apply at each device file creation.</span></li><li class="c9 c14 li-bullet-0"><span class="c1">If issue is still there, then it means that there are some specificities in your USB settings that makes your rule non applicable. Typically it may be that some extra parameters are required in the rule. Use the qualification output from udevadm info to check if some other parameters could help.</span></li></ul></body></html>